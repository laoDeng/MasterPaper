\documentclass[UTF8]{ctexart}
\title{第七章 总结和展望}
\author{陈登}
\date{\today}

\bibliographystyle{plain}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amsmath}
\usepackage{geometry}
\usepackage{fontspec}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}

\geometry{a4paper,centering,scale=0.9}
\usepackage[format=hang,font=small,textfont=it]{caption}
\usepackage[toc,page,title,titletoc,header]{appendix}
\usepackage[nottoc]{tocbibind}

\begin{document}

\section{总结和展望}

\subsection{本文总结}

JESD204B协议是应用于模数数模转换器的高速通信接口，特别根据模数数模转换信号的特点设计了一系列协议要求，包括物理层、数据链路层和传输层。
本设计主要完成的是基于JESD204B协议的接收端关键模块电路设计。
主要包括8B/10B解码模块、解扰模块、码群同步模块、初始化帧同步模块、初始化lane同步模块和辅助电路模块。

在数据链路层的设计中，主要的难点和重点就在于几个同步模块的设计上。
协议仅提供了几个相关的同步模块的具体设计要求，但并没有给出具体的设计思路。
在码群同步模块和初始化帧同步模块给出了状态跳转的状态图。
根据每一个接收到的字节来判断状态的变化。
因此在设计中也采用了有限状态机的实现方法，保证协议工作正确。

在具体的实现中，为了保证数据流和控制流的分离，采用了由状态机模块产生控制信号来对具体时钟信号控制和字符替换进行控制的思路。
首先比较重要的是帧时钟和多帧时钟的控制问题。
帧时钟和多帧时钟的对齐调整，分别是根据接收到的/F/和/A/字符位置来判断。
当需要产生调整时，就需要对时钟产生模块的计数操作进行重置来完成同步。
同时，由于帧时钟或者多帧时钟的重置可能会导致时钟之间相互的影响，需要根据优先级以帧时钟为基准。
再就是字符替换的问题。
由于数据在传输过程中添加了一系列控制字符，用来界定信号的同步。
这些字符是根据一定规律通过数据字符替换得到的。
对于帧定界字符/F/，需要octet时钟共同协作才能判断具体位置，完成替换。
对于多帧定界字符/A/，需要帧时钟和octet时钟共同协作才能判断具体位置，完成替换。
这些问题的具体解决方法，协议中并没有给出，所以设计上通过结构的合理规划，利用缓存、计数等方法，克服了这些困难，最终的设计完成了协议要求的操作。

在传输层的设计中，主要的难点在于对复杂配置方法兼容的问题上。
JESD204B传输层的需要能够支持F、L、M、N、S、K等多个参数的调整，每一个参数的变化都会音响具体的解帧情况。
在处理这一问题时，首先是采用简化配置参数的方法，只允许几种特定的参数配置，从而能够合理的设计硬件结构。
这也是不得已的方式，由于硬件设计无法实现同软件一样的灵活操作，只能采用简单的配置参数来简化设计。
再就是设计多层级的映射方式，根据不同的配置信息，对接收到的字符进行多层映射，对一层一层的参数进行简化，从而实现正确的解帧。
最后就是对解帧的本质理解，把握住解帧的最终目的就是将各个字节在正确的时机对应到正确的数模转换器上。
通过这三个层次的理解，能够在简化问题的前提下实现了具体的解帧器功能设计。

同时，在思考解决这些问题的过程中，逐渐加深了对协议的理解，对于高速通信系统设计的理解也更进了一步。
最终完成了接收端重点模块的设计，对芯片面积控制在了要求的范围内，在功能上也符合协议的要求。

\subsection{工作展望}

完成对接收端电路RTL级代码实现和工艺库级综合只是芯片设计的前端工作。
根据项目的开展情况，接下来还需要考虑后仿真的工作，也就是将综合出来的网表电路进行仿真，测试是否通过业务逻辑的要求。
更重要的是对电路具体性能的分析测试，例如信号的建立保持时间、信号的竞争冒险情况等进一步的分析。
再根据仿真结果对代码进一步的优化，对不合理的部分进行重新设计，保证在后端设计之前能够对电路逻辑上的故障正确的处理。

对经过进一步修改的电路进行综合，就能够进入接下来的后端设计阶段。
尤其是对于高速模块，比如串并转换、SERDES接收等重点模块进行全定制设计，最终和数字逻辑部分联调，完成整个接收端部分的芯片设计。
最终进行流片，完成整个完整的芯片设计流程，得到期望的效果。

事实上这将会是一个非常漫长的过程，芯片设计的每一个步骤都需要花费大量的时间去学习和验证，也需要一个团队的支持才能完成。
希望能够在之后的工作中，在完成现有任务的前提下能够更深入的理解芯片设计的方法和流程。

\bibliography{../../bib/serdes}
\end{document}
